using System;

class C {
  public void M1<T>(T t) {
    // optimized in fw/core
    if (t != null) { }
    if ((object) t != null) { }
    if (null == (t)) { }
    if (t is null) { }
    if ((object) t is null) { }
    if (t is { }) { }
    if (ReferenceEquals(t, null)) { }
    t?.|ToString|(0)(); // optimized ?, possible callvirt
    if (t is object) { } // optimized

    // type checks are boxings in .net fw
    if (t is IComparable) { }
    if (t is IEquatable<T> _) { }
    if (t is ValueType { }) { }
    if (t is int) { }
    if (t is byte b) { }
  }

  public void M2<T>(T t) where T : struct {
    // type checks are boxings in .net fw
    if (t is IComparable) { }
    if (t is IEquatable<T>) { }
    if (t is ValueType _) { } // except me
    if (t is int) { }
    if (t is byte b) { }
  }
}
---------------------------------------------------------
(0): ReSharper HeapView Boxing: Possible boxing allocation: inherited 'System.Object' virtual method call on value type instance
